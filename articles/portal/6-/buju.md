# 布局管理

布局管理，提供布局清单，可以查看所有布局。用户可以把布局指定到首页上，可以设计新的布局。

支持用户登录后的首页按照定义给用户的布局优先进行显示：

1、设计的布局能设置为首页；

2、登录后能加载首页。

## 布局清单

在布局清单里，提供布局维护管理页面。能维护布局，如新增布局，删除布局，提供新增布局交互页面。

有布局清单里，能导航到布局的设计界面。

## 布局模板

预制单栏的布局模板；

预制左右两栏的布局模板，按照两栏的宽度分3种：左右均分，左右比是2:1，左右比是1:2；

预制左中右三栏的布局模板，三栏一样宽度。

## 布局设计

设计布局时，支持鼠标拖动的方式左右调整布局栏目的宽度；

为方便设计布局内容，提供小部件列表。widget列表提供搜索功能；

为方便设计布局内容，支持从小部件列表拖拽应用到布局里。支持在布局里拖拽小部件，以放在合适，支持拖拽时自动停靠；

添加到布局里的小部件，支持删除；

为方便设计布局内容，提供widget列表扩展能力，如应用可以扩展按照应用自己定义的Widget分组

显示widget，应用也可以扩展按照自己业务逻辑显示过滤后的widget清单；

支持保存当前布局设计内容；支持从预置的布局样式设计页面布局样式。

## 布局加载

支持加载上次定义的布局内容，用户可以对上次定义的布局内容进行修改；

提供portal页面按照布局内容进行渲染portal页面内容；

布局的加载和持久化，点击【编辑】，支持加载通过布局设计器设计的布局。

## 布局维护

路径：【管理】->【布局管理】进入布局管理页面。该页面显示布局列表。用户可以对布局进行创建、编辑和删除等操作。

![](/articles/portal/6-/images/image13.png)

图：布局管理

### 布局创建

点击单击〖创建布局〗，弹出创建窗口，填写相应内容（*表示必填项）后，单击〖创建并打开〗/〖保存〗按钮。

〖创建并打开〗按钮，是指创建布局，并打开布局设计器。

〖保存〗按钮，是指创建布局，布局列表显示新增布局。

创建成功后，布局列表中显示新增布局。

![](/articles/portal/6-/images/image14.png)

图：创建布局

### 布局设计

选中布局，单击

![](/articles/portal/6-/images/image10.png)

〖设计〗按钮，即可对该布局进行设计。

进入布局设计器页面，左侧区域为布局预览，右侧边栏可操作布局设计页面。

![](/articles/portal/6-/images/image15.png)

图：布局编辑

• 模板

单击右侧边栏〖布局模板〗按钮，弹出布局模板列表。可选5种布局模板，单栏、左右两栏、左中右三栏。具体参照6.2.2布局模板。

![](/articles/portal/7-/images/image16.png)

图：布局模板

• 小部件

单击右侧边栏〖小部件〗按钮，弹出小部件列表。可以将相应小部件拖曳到左侧区域里，完成布局设计。

![](/articles/portal/7-/images/image17.png)

图：添加小部件

• 保存

单击〖保存〗按钮，保存当前布局设计。

• 重置

单击〖重置〗按钮，将该布局个性化功能重置，恢复布局设计初始样式。

• 关闭

单击〖关闭〗按钮，关闭布局设计器页面。

### 布局删除

选中布局，单击

![](/articles/portal/6-/images/image12.png) 

〖删除〗按钮，即可将该布局删除。

### 设为首页

选中布局，单击

 ![](/articles/portal/7-/images/image18.png)

〖设为首页〗按钮，可将该布局设为首页，默认用户登录成功后显示页面。

